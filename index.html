<!DOCTYPE html>
<html lang="fa" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>وب سایت قریه دشتک</title>
    <link rel="stylesheet" href="assets/css/style.css" />
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script defer src="scripts.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
  </head>

  <body>
    <!-- Header -->
    <header>
      <nav data-navbar>
        <div class="brand">
          <h1>قریه دشتک</h1>
        </div>
        <!-- Search Bar Container -->
        <div class="search-bar-container">
          <input id="search-input" type="text" placeholder="جستجو..." />
          <i id="search-icon" class="fas fa-search"></i>
        </div>

        <button data-nav-toggler class="nav-toggler">☰</button>
        <ul>
          <li><a href="#home" data-nav-link>خانه</a></li>
          <li><a href="#about" data-nav-link>درباره قریه دشتک</a></li>
          <li><a href="#persona" data-nav-link>تاریخچه و شخصیت ها</a></li>
          <li><a href="#pedigree" data-nav-link>شجره‌نامه</a></li>
          <li><a href="#contact" data-nav-link>تماس با ما</a></li>
        </ul>
      </nav>
    </header>

    <!-- Main Content -->
    <main>
      <!-- Home Section -->
      <section id="home" class="section">
        <h2>به وب سایت قریه دشتک خوش آمدید</h2>
        <p>
          این وب‌سایت با هدف شناسایی و حفظ ریشه‌ها و میراث خانواده دشتک، همچنین
          ایجاد ارتباط عمیق با هویت خانوادگی برای نسل‌های آینده دشتک طراحی شده
          است. با استفاده از این پلتفرم، می‌توانید به کاوش در تاریخچه، شخصیت‌ها،
          افتخارات و دستاوردهای خانواده دشتک در گذر زمان بپردازید.
        </p>
      </section>

      <!-- About Section -->
      <section id="about" class="section">
        <h2>درباره قریه دشتک</h2>
        <p>
          مروستای دشتک، واقع در شهرستان عنابه ولایت پنجشیر و در کنار دریای زیبای
          پنجشیر، قدمتی تاریخی و فرهنگی دارد. این روستا توسط مرحوم گلزار خان از
          مرحوم احمد بخش صاحب، پدر سراج الزبیر مجددی که بعدها به سرهند کوچ کرد،
          به نرخ همان زمان خریداری شد. از آن زمان تاکنون، این مکان به‌عنوان محل
          سکونت و زندگی برای نسل‌های مختلف خاندان گلزار خان استفاده شده است.
          روستای دشتک از سمت شمال به قریه سرک شاهی و جنوب به دریای پنجشیر محدود
          می‌شود. از سمت شرق به سربند جوی دشتک و از غرب به سربند جوی قریه عنابه
          امتداد دارد. خانه مرحوم گلزار خان و سکونتگاه اولاد وی، به‌دلیل جنگ‌ها
          در دوره جهاد علیه شوروی به‌کلی تخریب شد. خرابه‌های این مکان هنوز هم
          باقی مانده‌اند و به‌عنوان نشانی از تاریخ پرفرازونشیب این منطقه به چشم
          می‌خورند. همچنین، مسجد تاریخی قریه دشتک که روبروی قلعه و بر بالای جوی
          آب قرار داشت، از دوران مرحوم گلزار خان به‌جا مانده است. در کنار آن، دو
          درخت چنار کهنسال با قدمتی چندصدساله همچنان پابرجا هستند و به‌عنوان
          جاذبه‌های طبیعی و تاریخی، یادآور میراث گران‌بهای گذشتگان این
          منطقه‌اند. این درختان نمادی از اصالت و هویت تاریخی قریه دشتک به شمار
          می‌روند و ارزش فراوانی برای ساکنان و بازدیدکنندگان دارند.
        </p>
      </section>

      <!-- Persona -->
      <section id="Persona" class="section">
        <h1>تاریخچه و شخصیت ها</h1>
      </section>

      <!-- Pedigree Chart Section -->
      <section id="pedigree" class="section pedigree-section">
        <h2>شجره‌نامه خانواده</h2>
        <div id="chart" class="chart-container">
          <svg width="1000" height="800"></svg>
        </div>
        <script>
          const data = {
            name: "گلزار خان",
            children: [
              {
                name: "لنگر خان",
                children: [
                  {
                    name: "فتح محمد خان",
                    children: [
                      {
                        name: "عبدالروف خان",
                        children: [
                          { name: "عبدالرحیم روفی" },
                          { name: "عبدالرحمن" },
                          { name: "محمدسرور" },
                          { name: "عبدالله روفی" },
                          { name: "عبدالواحد روفی" },
                          { name: "عبدالقدیر روفی" },
                          { name: "عبدالاحد بهشتی" },
                          { name: "سراج‌الحق لنگریان" },
                        ],
                      },
                      {
                        name: "محمد اکرم خان",
                        children: [
                          { name: "محمد قاسم" },
                          { name: "محمد شریف اکرم‌ی" },
                        ],
                      },
                      {
                        name: "عبدالغفار خان",
                        children: [
                          { name: "عبدالجبار" },
                          { name: "عبدالواسع" },
                        ],
                      },
                      {
                        name: "عبدالغفور خان",
                        children: [
                          { name: "عبدالستار" },
                          { name: "عبدالشکور لنگریان" },
                          { name: "عبدالصبور لنگریان" },
                        ],
                      },
                      {
                        name: "عبدالاحمد خان",
                        children: [
                          { name: "عبدالرزاق خان" },
                          { name: "عبدالبصیر لنگریان" },
                          { name: "عبدالجمیل لنگریان" },
                        ],
                      },
                      { name: "شاه‌عالم خان" },
                      { name: "سکندر خان" },
                    ],
                  },
                ],
              },
              {
                name: "خان پاچا خان",
                children: [
                  {
                    name: "محمد یعقوب خان",
                    children: [
                      {
                        name: "محمد یوسف خان",
                        children: [{ name: "حیات‌الله خان" }],
                      },
                      {
                        name: "محمد ایوب خان",
                        children: [{ name: "آصف خان" }],
                      },
                      {
                        name: "عبدالکریم خان",
                        children: [{ name: "خلیل خان" }],
                      },
                    ],
                  },
                ],
              },
            ],
          };

          // SVG setup
          const width = 1000;
          const height = 800;
          const svg = d3
            .select("svg")
            .attr("width", width)
            .attr("height", height)
            .append("g")
            .attr("transform", "translate(50,50)");

          // Create a tree layout
          const tree = d3.tree().size([height - 100, width - 200]);
          const root = d3.hierarchy(data);

          tree(root);

          const links = root.links();
          const nodes = root.descendants();

          // Draw links
          svg
            .selectAll(".link")
            .data(links)
            .enter()
            .append("path")
            .attr("class", "link")
            .attr(
              "d",
              d3
                .linkHorizontal()
                .x((d) => d.y)
                .y((d) => d.x)
            )
            .attr("fill", "none")
            .attr("stroke", "#ccc")
            .attr("stroke-width", 2);

          // Draw nodes
          const node = svg
            .selectAll(".node")
            .data(nodes)
            .enter()
            .append("g")
            .attr("class", "node")
            .attr("transform", (d) => `translate(${d.y},${d.x})`);

          node
            .append("rect")
            .attr("width", (d) => Math.max(80, d.data.name.length * 10))
            .attr("height", 40)
            .attr("rx", 8)
            .attr("ry", 8)
            .attr("fill", "#6c757d")
            .attr("stroke", "#333")
            .attr("stroke-width", 0.5)
            .on("click", (event, d) => {
              window.location.href = "#"; // Replace with actual links if necessary
            });

          node
            .append("text")
            .attr("dy", 25) // Adjust vertical alignment (matches rectangle center)
            .attr("x", (d) => Math.max(80, d.data.name.length * 10) - 20) // Add more space to the right
            .style("text-anchor", "start") // Align text to start from x position
            .style("fill", "black") // Set text color to black
            .style("font-size", "10px") // Adjust font size
            .text((d) => d.data.name);
        </script>
      </section>

      <!-- Contact Section -->
      <!--<section id="contact" class="section">
        <h2>تماس با ما</h2>
        <p>برای اطلاعات بیشتر درباره تاریخچه خانواده ما با ما تماس بگیرید.</p>
        <p>ایمیل: family@history.com | تلفن: +123-456-7890</p>
      </section>-->
      <!-- Contact Section -->
      <section id="contact" class="section">
        <h2>تماس با ما</h2>
        <p>برای اطلاعات بیشتر درباره تاریخچه خانواده ما با ما تماس بگیرید.</p>
        <p>ایمیل: family@history.com | تلفن: +123-456-7890</p>

        <!-- Contact Form -->
        <form id="contact-form">
          <div class="form-grid">
            <!-- First Name -->
            <div class="input-container">
              <label for="first-name">نام</label>
              <div class="input-wrapper">
                <span class="icon">&#xf007;</span>
                <!-- User Icon -->
                <input
                  type="text"
                  id="first-name"
                  name="first-name"
                  placeholder="نام خود را وارد کنید"
                  required
                />
              </div>
            </div>

            <!-- Last Name -->
            <div class="input-container">
              <label for="last-name">نام خانوادگی</label>
              <div class="input-wrapper">
                <span class="icon">&#xf007;</span>
                <!-- User Icon -->
                <input
                  type="text"
                  id="last-name"
                  name="last-name"
                  placeholder="نام خانوادگی خود را وارد کنید"
                  required
                />
              </div>
            </div>
          </div>

          <div class="form-grid">
            <!-- Email -->
            <div class="input-container">
              <label for="email">ایمیل</label>
              <div class="input-wrapper">
                <span class="icon">&#xf0e0;</span>
                <!-- Envelope Icon -->
                <input
                  type="email"
                  id="email"
                  name="email"
                  placeholder="ایمیل خود را وارد کنید"
                  required
                />
              </div>
            </div>

            <!-- Phone Number -->
            <div class="input-container">
              <label for="phone">تلفن (اختیاری)</label>
              <div class="input-wrapper">
                <span class="icon">&#xf095;</span>
                <!-- Phone Icon -->
                <input
                  type="tel"
                  id="phone"
                  name="phone"
                  placeholder="شماره تلفن خود را وارد کنید"
                />
              </div>
            </div>
          </div>

          <!-- Message -->
          <div class="input-container">
            <label for="message">پیام</label>
            <div class="input-wrapper">
              <span class="icon">&#xf075;</span>
              <!-- Message Icon -->
              <textarea
                id="message"
                name="message"
                placeholder="...پیام خود را اینجا بنویسید"
                required
              ></textarea>
            </div>
          </div>

          <!-- Submit Button -->
          <div class="button-container">
            <button type="submit" class="submit-btn">
              <span class="send-icon">&#xf1d8;</span>
              <!-- Send Icon -->
              ارسال
            </button>
          </div>
        </form>
      </section>
    </main>

    <!-- Footer -->
    <footer>
      <p>&copy; 2025 تاریخچه خانواده. تمامی حقوق محفوظ است.</p>
    </footer>
  </body>
</html>
