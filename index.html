<!DOCTYPE html>
<html lang="fa" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>وب سایت قریه دشتک</title>
    <link rel="stylesheet" href="assets/css/style.css" />
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script defer src="scripts.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
  </head>

  <body>
    <!-- Header -->
    <header>
      <nav data-navbar>
        <div class="brand">
          <h1>قریه دشتک</h1>
        </div>
        <!-- Search Bar Container -->
        <div class="search-bar-container">
          <input id="search-input" type="text" placeholder="جستجو..." />
          <i id="search-icon" class="fas fa-search"></i>
        </div>

        <button data-nav-toggler class="nav-toggler">☰</button>
        <ul>
          <li><a href="#home" data-nav-link>خانه</a></li>
          <li><a href="#about" data-nav-link>درباره قریه دشتک</a></li>
          <li><a href="#persona" data-nav-link>تاریخچه و شخصیت ها</a></li>
          <li><a href="#pedigree" data-nav-link>شجره‌نامه</a></li>
          <li><a href="#contact" data-nav-link>تماس با ما</a></li>
        </ul>
      </nav>
    </header>

    <!-- Main Content -->
    <main>
      <!-- Home Section -->
      <section id="home" class="section">
        <h2>به وب سایت قریه دشتک خوش آمدید</h2>
        <p>
          این وب‌سایت با هدف شناسایی و حفظ ریشه‌ها و میراث خانواده دشتک، همچنین
          ایجاد ارتباط عمیق با هویت خانوادگی برای نسل‌های آینده دشتک طراحی شده
          است. با استفاده از این پلتفرم، می‌توانید به کاوش در تاریخچه، شخصیت‌ها،
          افتخارات و دستاوردهای خانواده دشتک در گذر زمان بپردازید.
        </p>
      </section>

      <!-- About Section -->
      <section id="about" class="section">
        <h2>درباره قریه دشتک</h2>
        <p>
          مروستای دشتک، واقع در شهرستان عنابه ولایت پنجشیر و در کنار دریای زیبای
          پنجشیر، قدمتی تاریخی و فرهنگی دارد. این روستا توسط مرحوم گلزار خان از
          مرحوم احمد بخش صاحب، پدر سراج الزبیر مجددی که بعدها به سرهند کوچ کرد،
          به نرخ همان زمان خریداری شد. از آن زمان تاکنون، این مکان به‌عنوان محل
          سکونت و زندگی برای نسل‌های مختلف خاندان گلزار خان استفاده شده است.
          روستای دشتک از سمت شمال به قریه سرک شاهی و جنوب به دریای پنجشیر محدود
          می‌شود. از سمت شرق به سربند جوی دشتک و از غرب به سربند جوی قریه عنابه
          امتداد دارد. خانه مرحوم گلزار خان و سکونتگاه اولاد وی، به‌دلیل جنگ‌ها
          در دوره جهاد علیه شوروی به‌کلی تخریب شد. خرابه‌های این مکان هنوز هم
          باقی مانده‌اند و به‌عنوان نشانی از تاریخ پرفرازونشیب این منطقه به چشم
          می‌خورند. همچنین، مسجد تاریخی قریه دشتک که روبروی قلعه و بر بالای جوی
          آب قرار داشت، از دوران مرحوم گلزار خان به‌جا مانده است. در کنار آن، دو
          درخت چنار کهنسال با قدمتی چندصدساله همچنان پابرجا هستند و به‌عنوان
          جاذبه‌های طبیعی و تاریخی، یادآور میراث گران‌بهای گذشتگان این
          منطقه‌اند. این درختان نمادی از اصالت و هویت تاریخی قریه دشتک به شمار
          می‌روند و ارزش فراوانی برای ساکنان و بازدیدکنندگان دارند.
        </p>
      </section>

      <!-- Persona -->
      <section id="Persona" class="section">
        <h1>تاریخچه و شخصیت ها</h1>
      </section>

      <!-- Pedigree Chart Section -->
      <section id="pedigree" class="section pedigree-section">
        <h2>شجره‌نامه خانواده دشتک</h2>
        <div id="chart" class="chart-container">
          <svg width="1000" height="800"></svg>
        </div>
        <script>
          const data = {
            name: "ملک شجاع خان",
            children: [
              {
                name: "محمد وصال خان",
                children: [
                  {
                    name: "محمد غزال خان",
                    children: [
                      {
                        name: "گلزار خان",
                        children: [
                          {
                            name: "لنگر خان",
                            children: [
                              {
                                name: "فتح محمد خان",
                                children: [
                                  {
                                    name: "عبدالروف خان",
                                    children: [
                                      {
                                        name: "عبدالرحیم روفی",
                                        children: [
                                          {
                                            name: "محمد نذیر",
                                            children: [
                                              { name: "احمد جاوید دشتی" },
                                              { name: "احمد شبیر دشتی" },
                                              { name: "احمد نصیر دشتی" },
                                            ],
                                          },
                                        ],
                                      },
                                      { name: "عبدالرحمن" },
                                      {
                                        name: "محمدسرور",
                                        children: [
                                          {
                                            name: "هدایت الله روفی",
                                            children: [
                                              { name: "احمد عثمان دشتی" },
                                              { name: "حمزه دشتی" },
                                            ],
                                          },
                                          { name: "احمد شجاع دشتی" },
                                        ],
                                      },
                                      {
                                        name: "عبدالله روفی",
                                        children: [{ name: "عبیدالله روفی" }],
                                      },
                                      {
                                        name: "عبدالواحد روفی",
                                        children: [
                                          { name: "محمد عمر دشتی" },
                                          { name: "سلیمان دشتی" },
                                        ],
                                      },
                                      {
                                        name: "عبدالقدیر روفی",
                                        children: [
                                          {
                                            name: "عبدالمتین روفی",
                                            children: [
                                              { name: "سلطان احمد روفی" },
                                            ],
                                          },
                                          {
                                            name: "عبدالمبین روفی",
                                            children: [{ name: "to be added" }],
                                          },
                                        ],
                                      },
                                      {
                                        name: "عبدالاحد بهشتی",
                                        children: [
                                          { name: "عبداللطیف بهشتی" },
                                          {
                                            name: "عبدالحسیب بهشتی",
                                            children: [
                                              { name: "ادیب بهشتی" },
                                              { name: "انس بهشتی" },
                                            ],
                                          },
                                          { name: "عبدالعزیز بهشتی" },
                                          {
                                            name: "عبدالباعث بهشتی",
                                            children: [
                                              { name: "محمد یعقوب بهشتی" },
                                            ],
                                          },
                                          { name: "احمد یاسر بهشتی" },
                                        ],
                                      },
                                      {
                                        name: "سراج‌الحق لنگریان",
                                        children: [{ name: "ایمان لنگریان" }],
                                      },
                                    ],
                                  },
                                  {
                                    name: "محمد اکرم خان",
                                    children: [
                                      {
                                        name: "محمد قاسم",
                                        children: [
                                          {
                                            name: "محمد شعیب",
                                            children: [
                                              {
                                                name: "احمد شهیر دشتی",
                                                children: [
                                                  { name: "تیمور دشتی" },
                                                ],
                                              },
                                              {
                                                name: "احمد منیر دشتی",
                                                children: [
                                                  { name: "مالک دشتی" },
                                                ],
                                              },
                                            ],
                                          },
                                          {
                                            name: "احمد مختار",
                                            children: [{ name: "to be added" }],
                                          },
                                          {
                                            name: "احمد ضیا کچکنی",
                                            children: [{ name: "to be added" }],
                                          },
                                          {
                                            name: "محمد فهیم دشتی",
                                            children: [{ name: "ادریس دشتی" }],
                                          },
                                        ],
                                      },
                                      {
                                        name: "محمد شریف اکرمی",
                                        children: [{ name: "میرویس اکرم" }],
                                      },
                                      {
                                        name: "محمد همایون",
                                        children: [{ name: "to be added" }],
                                      },
                                    ],
                                  },
                                ],
                              },
                              {
                                name: "شاه‌عالم خان",
                                children: [{ name: "لعل آغا" }],
                              },
                              {
                                name: "سکندر خان",
                                children: [{ name: "امان الله حسرت" }],
                              },
                            ],
                          },
                          {
                            name: "خان پاچا خان",
                            children: [
                              {
                                name: "محمد یعقوب خان",
                                children: [
                                  {
                                    name: "محمد یوسف خان",
                                    children: [
                                      {
                                        name: "حیات‌الله خان",
                                        children: [{ name: "تمیم یوسفی" }],
                                      },
                                    ],
                                  },
                                  {
                                    name: "محمد ایوب خان",
                                    children: [
                                      {
                                        name: "محمد آصف",
                                        children: [
                                          { name: "دانش دشتی" },
                                          { name: "مصطفی روان" },
                                        ],
                                      },
                                    ],
                                  },
                                  {
                                    name: "عبدالکریم خان",
                                    children: [
                                      {
                                        name: "خلیل الله",
                                        children: [
                                          { name: "صفی الله دستیار" },
                                          { name: "مسیح الله دستیار" },
                                        ],
                                      },
                                      { name: "عبدالمتین" },
                                      { name: "احمد مسعود" },
                                      { name: "احمدالله" },
                                    ],
                                  },
                                  {
                                    name: "عبدالغیاث خان",
                                    children: [{ name: "حمیدالله صبحرنگ" }],
                                  },
                                  {
                                    name: "محمد زمان خان",
                                    children: [
                                      { name: "غلام فاروق صدیق" },
                                      { name: "محمد فیاض" },
                                    ],
                                  },
                                ],
                              },
                            ],
                          },
                        ],
                      },
                    ],
                  },
                ],
              },
            ],
          };

          // SVG setup
          const width = 2000; // Increased width for better spacing
          const height = 8200; // Increased height for better spacing
          const svg = d3
            .select("svg")
            .attr("width", width)
            .attr("height", height)
            .append("g")
            .attr("transform", "translate( 50, -100)"); // Adjusted translation for better spacing

          // Create a tree layout with explicit node separation
          const tree = d3
            .tree()
            .size([height - 10, width - 200]) // Adjusted size for better spacing
            .separation((a, b) => (a.parent === b.parent ? 2 : 3)); // Increased separation between nodes

          const root = d3.hierarchy(data);
          tree(root);

          const links = root.links();
          const nodes = root.descendants();

          // Draw curved connectors
          svg
            .selectAll(".link")
            .data(links)
            .enter()
            .append("path")
            .attr("class", "link")
            .attr("d", (d) => {
              const source = { x: d.source.x, y: d.source.y };
              const target = { x: d.target.x, y: d.target.y };
              return `M${source.y},${source.x} C${(source.y + target.y) / 2},${
                source.x
              } ${(source.y + target.y) / 2},${target.x} ${target.y},${
                target.x
              }`;
            })
            .attr("fill", "none")
            .attr("stroke", "#999")
            .attr("stroke-width", 1.5)
            .attr("stroke-dasharray", (d, i) => (i % 2 === 0 ? "5,5" : "none"));

          // Draw nodes with increased spacing
          const node = svg
            .selectAll(".node")
            .data(nodes)
            .enter()
            .append("g")
            .attr("class", "node")
            .attr("transform", (d) => `translate(${d.y},${d.x})`);

          node
            .append("rect")
            .attr("width", 120) // Fixed width for better readability
            .attr("height", 40) // Fixed height for better readability
            .attr("rx", 8)
            .attr("ry", 8)
            .attr("fill", "#6c757d")
            .attr("stroke", "#333")
            .attr("stroke-width", 0.5)
            .on("click", (event, d) => {
              window.location.href = "#"; // Replace with actual links if necessary
            });

          node
            .append("text")
            .attr("dy", 25) // Adjusted vertical alignment to match the rectangle height
            .attr("x", 60) // Centered text within the rectangle
            .style("text-anchor", "middle") // Center text horizontally
            .style("fill", "white") // White text for better contrast
            .style("font-size", "12px") // Increased font size for better readability
            .text((d) => d.data.name);
        </script>
      </section>

      <!-- Contact Section -->
      <!--<section id="contact" class="section">
        <h2>تماس با ما</h2>
        <p>برای اطلاعات بیشتر درباره تاریخچه خانواده ما با ما تماس بگیرید.</p>
        <p>ایمیل: family@history.com | تلفن: +123-456-7890</p>
      </section>-->
      <!-- Contact Section -->
      <section id="contact" class="section">
        <h2>تماس با ما</h2>
        <!--<p>برای اطلاعات بیشتر درباره تاریخچه خانواده ما با ما تماس بگیرید.</p>-->
        <p>ایمیل: family@history.com | تلفن: +123-456-7890</p>

        <!-- Contact Form -->
        <form id="contact-form">
          <div class="form-grid">
            <!-- First Name -->
            <div class="input-container">
              <label for="first-name">نام</label>
              <div class="input-wrapper">
                <span class="icon">&#xf007;</span>
                <!-- User Icon -->
                <input
                  type="text"
                  id="first-name"
                  name="first-name"
                  placeholder="نام خود را وارد کنید"
                  required
                />
              </div>
            </div>

            <!-- Last Name -->
            <div class="input-container">
              <label for="last-name">نام خانوادگی</label>
              <div class="input-wrapper">
                <span class="icon">&#xf007;</span>
                <!-- User Icon -->
                <input
                  type="text"
                  id="last-name"
                  name="last-name"
                  placeholder="نام خانوادگی خود را وارد کنید"
                  required
                />
              </div>
            </div>
          </div>

          <div class="form-grid">
            <!-- Email -->
            <div class="input-container">
              <label for="email">ایمیل</label>
              <div class="input-wrapper">
                <span class="icon">&#xf0e0;</span>
                <!-- Envelope Icon -->
                <input
                  type="email"
                  id="email"
                  name="email"
                  placeholder="ایمیل خود را وارد کنید"
                  required
                />
              </div>
            </div>

            <!-- Phone Number -->
            <div class="input-container">
              <label for="phone">شماره تماس (اختیاری)</label>
              <div class="input-wrapper">
                <span class="icon">&#xf095;</span>
                <!-- Phone Icon -->
                <input
                  type="tel"
                  id="phone"
                  name="phone"
                  placeholder="شماره تلفن خود را وارد کنید"
                />
              </div>
            </div>
          </div>

          <!-- Message -->
          <div class="input-container">
            <label for="message">پیام</label>
            <div class="input-wrapper">
              <span class="icon">&#xf075;</span>
              <!-- Message Icon -->
              <textarea
                id="message"
                name="message"
                placeholder="...پیام خود را اینجا بنویسید"
                required
              ></textarea>
            </div>
          </div>

          <!-- Submit Button -->
          <div class="button-container">
            <button type="submit" class="submit-btn">
              <span class="send-icon">&#xf1d8;</span>
              <!-- Send Icon -->
              ارسال
            </button>
          </div>
        </form>
      </section>
    </main>

    <!-- Footer -->
    <footer>
      <p>&copy; 2025 تاریخچه خانواده. تمامی حقوق محفوظ است.</p>
    </footer>
  </body>
</html>
